# rate limit header and para

```

frontend website
    bind :80
    stick-table type string size 100k expire 10s store http_req_rate(10s)
    acl has_token url_param(token) -m  found
#   acl exceeds_limit url_param(token),table_http_req_rate() gt 1000

    acl is_upload hdr_beg(Authorization) -m found
    acl exceeds_limit url_param(token), hdr_beg(Authorization) ,table_http_req_rate() gt 10

    http-request track-sc0 url_param(token) unless exceeds_limit
    http-request track-sc0 hdr(Authorization) unless exceeds_limit


    http-request allow if has_token
    http-request allow if is_upload

    http-request deny deny_status 429 if !has_token  or exceeds_limit
    http-request deny deny_status 429 if !is_upload  or exceeds_limit
#    http-request track-sc0 hdr(Authorization) if METH_POST has_token is_upload

    default_backend servers

```











